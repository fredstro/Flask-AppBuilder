<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced Configuration &mdash; Flask AppBuilder</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.6/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Flask AppBuilder" href="index.html" />
    <link rel="next" title="Customizing" href="customizing.html" />
    <link rel="prev" title="Actions" href="actions.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">
  
  <a href="https://github.com/dpgaspar/Flask-AppBuilder"
     class="visible-desktop hidden-xs"><img
    id="gh-banner"
    style="position: absolute; top: 50px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>
  <script>
    // Adjust banner height.
    $(function () {
      var navHeight = $(".navbar .container").css("height");
      $("#gh-banner").css("top", navHeight);
    });
  </script>


  <div id="navbar" class="navbar  navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Flask-AppBuilder</a>
        <span class="navbar-text navbar-version pull-left"><b>1.6.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="diagrams.html">Diagrams</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="fabmanager.html">Command Line Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Base Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="views.html">Base Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickhowto.html">Model Views (Quick How to)</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickhowto_mongo.html">Model Views on MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickcharts.html">Chart Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickfiles.html">Model Views with Files and Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickminimal.html">Quick Minimal Application</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="relations.html">Model Relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="actions.html">Actions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Advanced Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="customizing.html">Customizing</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="addons.html">AddOn development</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic_datasource.html">Generic Data Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="multipledbs.html">Multiple Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">i18n Translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_registration.html">User Registration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="versionmigration.html">Version Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Advanced Configuration</a><ul>
<li><a class="reference internal" href="#security">Security</a></li>
<li><a class="reference internal" href="#custom-fields">Custom Fields</a></li>
<li><a class="reference internal" href="#base-filtering">Base Filtering</a></li>
<li><a class="reference internal" href="#default-order">Default Order</a></li>
<li><a class="reference internal" href="#template-extra-arguments">Template Extra Arguments</a></li>
<li><a class="reference internal" href="#forms">Forms</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="actions.html" title="Previous Chapter: Actions"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Actions</span>
    </a>
  </li>
  <li>
    <a href="customizing.html" title="Next Chapter: Customizing"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Customizing &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="advanced-configuration">
<h1>Advanced Configuration<a class="headerlink" href="#advanced-configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="security">
<h2>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<p>To block or set the allowed permissions on a view, just set the <em>base_permissions</em> property with the base permissions</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GroupModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Group</span><span class="p">)</span>
    <span class="n">base_permissions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;can_add&#39;</span><span class="p">,</span><span class="s1">&#39;can_delete&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>With this initial config, the framework will only create &#8216;can_add&#8217; and &#8216;can_delete&#8217;
permissions on GroupModelView as the only allowed. So users and even the administrator
of the application will not have the possibility to add list or show permissions on Group table view.
Base available permission are: can_add, can_edit, can_delete, can_list, can_show. More detailed info on <a class="reference internal" href="security.html"><span class="doc">Security</span></a></p>
</div>
<div class="section" id="custom-fields">
<h2>Custom Fields<a class="headerlink" href="#custom-fields" title="Permalink to this headline">¶</a></h2>
<p>Custom Model properties can be used on lists. This is usefull for formating values like currencies, time or dates.
or for custom HTML. This is very simple to do, first define your custom property on your Model
and use the <strong>&#64;renders</strong> decorator to tell the framework to map you class method
with a certain Model property:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask.ext.appbuilder.models.decorators</span> <span class="k">import</span> <span class="n">renders</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">unique</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">custom</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>

    <span class="nd">@renders</span><span class="p">(</span><span class="s1">&#39;custom&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">my_custom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="c1"># will render this columns as bold on ListWidget</span>
        <span class="k">return</span> <span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&#39;</span> <span class="o">+</span> <span class="n">custom</span> <span class="o">+</span> <span class="s1">&#39;&lt;/b&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>On your view reference your method as a column on list:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyTable</span><span class="p">)</span>
    <span class="n">list_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;my_custom&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="base-filtering">
<h2>Base Filtering<a class="headerlink" href="#base-filtering" title="Permalink to this headline">¶</a></h2>
<p>To filter a views data, just set the <em>base_filter</em> property with your base filters. These will allways be applied first on any search.</p>
<p>It&#8217;s very flexible, you can apply multiple filters with static values, or values based on a function you define.
On this next example we are filtering a view by the logged in user and with column <em>name</em> starting with &#8220;a&#8221;</p>
<p><em>base_filters</em> is a list of lists with 3 values [[&#8216;column name&#8217;,FilterClass,&#8217;filter value],...]</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">g</span>
<span class="kn">from</span> <span class="nn">flask.ext.appbuilder</span> <span class="k">import</span> <span class="n">ModelView</span>
<span class="kn">from</span> <span class="nn">flask.ext.appbuilder.models.sqla.interface</span> <span class="k">import</span> <span class="n">SQLAInterface</span>
<span class="kn">from</span> <span class="nn">flask_appbuilder.models.sqla.filters</span> <span class="k">import</span> <span class="n">FilterStartsWith</span><span class="p">,</span> <span class="n">FilterEqualFunction</span>
<span class="c1"># If your using Mongo Engine you should import filters like this, everything else is exactly the same</span>
<span class="c1"># from flask_appbuilder.models.mongoengine.filters import FilterStartsWith, FilterEqualFunction</span>


<span class="kn">from</span> <span class="nn">.models</span> <span class="k">import</span> <span class="n">MyTable</span>

<span class="k">def</span> <span class="nf">get_user</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">g</span><span class="o">.</span><span class="n">user</span>

<span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyTable</span><span class="p">)</span>
    <span class="n">base_filters</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;created_by&#39;</span><span class="p">,</span> <span class="n">FilterEqualFunction</span><span class="p">,</span> <span class="n">get_user</span><span class="p">],</span>
                    <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">FilterStartsWith</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>Since version 1.5.0 you can use base_filter with dotted notation, necessary joins will be handled for you on
the background. Study the following example to see how:</p>
<p><a class="reference external" href="https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/extendsecurity">https://github.com/dpgaspar/Flask-AppBuilder/tree/master/examples/extendsecurity</a></p>
</div>
<div class="section" id="default-order">
<h2>Default Order<a class="headerlink" href="#default-order" title="Permalink to this headline">¶</a></h2>
<p>Use a default order on your lists, this can be overridden by the user on the UI.
Data structure (&#8216;col_name&#8217;:&#8217;asc|desc&#8217;)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyTable</span><span class="p">)</span>
    <span class="n">base_order</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;my_col_to_be_ordered&#39;</span><span class="p">,</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="template-extra-arguments">
<h2>Template Extra Arguments<a class="headerlink" href="#template-extra-arguments" title="Permalink to this headline">¶</a></h2>
<p>You can pass extra Jinja2 arguments to your custom template, using extra_args property:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyTable</span><span class="p">)</span>
    <span class="n">extra_args</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;my_extra_arg&#39;</span><span class="p">:</span><span class="s1">&#39;SOMEVALUE&#39;</span><span class="p">}</span>
    <span class="n">show_template</span> <span class="o">=</span> <span class="s1">&#39;my_show_template.html&#39;</span>
</pre></div>
</div>
<p>Your overriding the &#8216;show&#8217; template to handle your extra argument.
You can still use F.A.B. show template using Jinja2 blocks, take a look at the <a class="reference internal" href="templates.html"><span class="doc">Templates</span></a> chapter</p>
</div>
<div class="section" id="forms">
<h2>Forms<a class="headerlink" href="#forms" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">You can create a custom query filter for all related columns like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>
    <span class="n">add_form_query_rel_fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;group&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">FilterStartsWith</span><span class="p">,</span><span class="s1">&#39;W&#39;</span><span class="p">]]}</span>
</pre></div>
</div>
</li>
</ul>
<p>This will filter list combo on Contact&#8217;s model related with ContactGroup model.
The combo will be filtered with entries that start with W.
You can define individual filters for add,edit and search using <strong>add_form_quey_rel_fields</strong>,
<strong>edit_form_query_rel_fields</strong>, <strong>search_form_query_rel_fields</strong> respectively. Take a look at the <a class="reference internal" href="api.html"><span class="doc">API Reference</span></a>
If you want to filter multiple related fields just add new keys to the dictionary,
remember you can add multiple filters for each field also, take a look at the <em>base_filter</em> property:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>
    <span class="n">add_form_query_rel_fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;group&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">FilterStartsWith</span><span class="p">,</span><span class="s1">&#39;W&#39;</span><span class="p">]],</span>
                                <span class="s1">&#39;gender&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="n">FilterStartsWith</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">]]}</span>
</pre></div>
</div>
<ul>
<li><p class="first">You can define your own Add, Edit forms to override the automatic form creation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyModel</span><span class="p">)</span>
    <span class="n">add_form</span> <span class="o">=</span> <span class="n">AddFormWTF</span>
</pre></div>
</div>
</li>
<li><p class="first">You can define what columns will be included on Add or Edit forms,
for example if you have automatic fields like user or date, you can remove this from the Add Form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyModel</span><span class="p">)</span>
    <span class="n">add_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;my_field1&#39;</span><span class="p">,</span><span class="s1">&#39;my_field2&#39;</span><span class="p">]</span>
    <span class="n">edit_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;my_field1&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">You can contribute with any additional fields that are not on a table/model,
for example a confirmation field:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ContactModelView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Contact</span><span class="p">)</span>
    <span class="n">add_form_extra_fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;extra&#39;</span><span class="p">:</span> <span class="n">TextField</span><span class="p">(</span><span class="n">gettext</span><span class="p">(</span><span class="s1">&#39;Extra Field&#39;</span><span class="p">),</span>
                    <span class="n">description</span><span class="o">=</span><span class="n">gettext</span><span class="p">(</span><span class="s1">&#39;Extra Field description&#39;</span><span class="p">),</span>
                    <span class="n">widget</span><span class="o">=</span><span class="n">BS3TextFieldWidget</span><span class="p">())}</span>
</pre></div>
</div>
</li>
<li><p class="first">You can define/override readonly fields like this, first define a new <strong>Readonly</strong> field:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask_appbuilder.fieldwidgets</span> <span class="k">import</span> <span class="n">BS3TextFieldWidget</span>

<span class="k">class</span> <span class="nc">BS3TextFieldROWidget</span><span class="p">(</span><span class="n">BS3TextFieldWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;readonly&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;true&#39;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">BS3TextFieldROWidget</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__call__</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>Next override your field using your new widget:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExampleView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">ExampleModel</span><span class="p">)</span>
    <span class="n">edit_form_extra_fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;field2&#39;</span><span class="p">:</span> <span class="n">TextField</span><span class="p">(</span><span class="s1">&#39;field2&#39;</span><span class="p">,</span>
                                <span class="n">widget</span><span class="o">=</span><span class="n">BS3TextFieldROWidget</span><span class="p">())}</span>
</pre></div>
</div>
<p>For select fields to be readonly is a special case, but it&#8217;s solved in a simpler way:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Define the field query</span>
<span class="k">def</span> <span class="nf">department_query</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Department</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">EmployeeView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">Employee</span><span class="p">)</span>

    <span class="n">list_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;employee_number&#39;</span><span class="p">,</span> <span class="s1">&#39;full_name&#39;</span><span class="p">,</span> <span class="s1">&#39;department&#39;</span><span class="p">]</span>

    <span class="c1"># override the &#39;department&#39; field, to make it readonly on edit form</span>
    <span class="n">edit_form_extra_fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;department&#39;</span><span class="p">:</span>  <span class="n">QuerySelectField</span><span class="p">(</span><span class="s1">&#39;Department&#39;</span><span class="p">,</span>
                                <span class="n">query_factory</span><span class="o">=</span><span class="n">department_query</span><span class="p">,</span>
                                <span class="n">widget</span><span class="o">=</span><span class="n">Select2Widget</span><span class="p">(</span><span class="n">extra_classes</span><span class="o">=</span><span class="s2">&quot;readonly&quot;</span><span class="p">))}</span>
</pre></div>
</div>
<ul>
<li><p class="first">You can contribute with your own additional form validations rules.
Remember the framework will automatically validate any field that is defined on the database
with <em>Not Null</em> (Required) or Unique constraints:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">ModelView</span><span class="p">):</span>
    <span class="n">datamodel</span> <span class="o">=</span> <span class="n">SQLAInterface</span><span class="p">(</span><span class="n">MyModel</span><span class="p">)</span>
    <span class="n">validators_columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;my_field1&#39;</span><span class="p">:[</span><span class="n">EqualTo</span><span class="p">(</span><span class="s1">&#39;my_field2&#39;</span><span class="p">,</span>
                                        <span class="n">message</span><span class="o">=</span><span class="n">gettext</span><span class="p">(</span><span class="s1">&#39;fields must match&#39;</span><span class="p">))</span>
                                      <span class="p">]</span>
    <span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p>Take a look at the <a class="reference internal" href="api.html"><span class="doc">API Reference</span></a>. Experiment with <em>add_form</em>, <em>edit_form</em>, <em>add_columns</em>, <em>edit_columns</em>, <em>validators_columns</em>, <em>add_form_extra_fields</em>, <em>edit_form_extra_fields</em></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Daniel Vaz Gaspar.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>